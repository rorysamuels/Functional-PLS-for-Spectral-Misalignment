
iAB <- find_closest(grdA,grdB)

grdA2B <- grdA[iAB]

X_A_train[1,] %>% plot()
tibble(refl = c(X_B_train[1,],X_A_train[1,iAB]),grd = c(grdB,grdA2B), group = rep(c("B","A2B"), each = length(grdB))) %>%
  ggplot(aes(grd,refl))+
  geom_point(aes(color = group), size = 2, show.legend = FALSE)+
  lims(x=c(.25,.50), y = c(3800,5300))+
  theme_bw()


tibble(refl = X_A_train[1,], grd = grdA) %>%
  ggplot(aes(grd,refl))+
  geom_point(size = 2)+
  lims(x=c(.25,.50), y = c(3800,5300))+
  theme_bw()
